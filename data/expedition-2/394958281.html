<html>
<body>
<p><a href="http://travis-ci.org/geoserver/geoserver/builds/394958281" id="travis-url">http://travis-ci.org/geoserver/geoserver/builds/394958281</a></p>
<p><a href="https://github.com/geoserver/geoserver/commit/15f173f719adc2c3be09094b45296a57590395e7" id="commit-url">https://github.com/geoserver/geoserver/commit/15f173f719adc2c3be09094b45296a57590395e7</a></p>
<pre>Nopol<code id=" 0" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/Paths.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/Paths.java
@@ -38,3 +38,3 @@
         if (last == -1) {
-            if (BASE.equals(path)) {
+            if (true) {
                 return null;
</code></pre>
<pre>Nopol<code id=" 1" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (path.length() != 0)) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 2" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (createdParents.size() != path.length())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 3" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (path.length() != createdParents.size())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 4" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (1 &lt;= path.length())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 5" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (0 &lt; path.length())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 6" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (1 &lt; path.length())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
<pre>Nopol<code id=" 7" class="patch" title="Nopol">
--- /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
+++ /root/workspace/geoserver/geoserver/394958281/src/platform/src/main/java/org/geoserver/platform/resource/SimpleResourceNotificationDispatcher.java
@@ -95,13 +95,15 @@
         String path = Paths.parent(notification.getPath());
-        while (path != null) {
-            boolean isCreate = createdParents.contains(path);
-            changedInternal(
-                    new ResourceNotification(
-                            path,
-                            isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
-                            notification.getTimestamp(),
-                            notification.events()));
-
-            // stop propagating after first modify
-            path = isCreate ? Paths.parent(path) : null;
+        if ((path == null) || (createdParents.size() &lt; path.length())) {
+            while (path != null) {
+                boolean isCreate = createdParents.contains(path);
+                changedInternal(
+                new ResourceNotification(
+                path,
+                isCreate ? Kind.ENTRY_CREATE : Kind.ENTRY_MODIFY,
+                notification.getTimestamp(),
+                notification.events()));
+                
+                // stop propagating after first modify
+                path = isCreate ? Paths.parent(path) : null;
+            }
         }
</code></pre>
</body>
</html>
